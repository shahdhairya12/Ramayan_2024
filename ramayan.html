<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <title>Ramayan by Ramanand Sagar</title>
    <link rel="shortcut icon" href="./logo.png" type="image/x-icon">
</head>

<body class="bg-yellow-500">
    <div class="container mx-auto p-4">
        <div class="flex justify-between items-center">
            <a href="./index.html">
                <img src="https://freepngimg.com/thumb/rama/88667-body-jewelry-ramayana-sita-text-rama.png"
                    height="200px" width="200px" alt="Ramayan">
            </a>
            <div class="flex items-center">
                <a href="https://www.instagram.com/naman_080" target="_blank" class="text-black text-3xl mx-2">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://github.com/Naman0807/watch_ramayan/" target="_blank" class="text-black text-3xl mx-2">
                    <i class="fab fa-github"></i>
                </a>
            </div>
        </div>
        <p class="my-4 text-xl text-black">Click on the episode number to watch that episode. एपिसोड को देखने के लिए
            एपिसोड नंबर पर क्लिक करें| એપિસોડ જોવા માટે એપિસોડ નંબર પર ક્લિક કરો.</p>
        <!-- Navbar end -->
        <hr class="my-8">

        <div class="mx-auto w-full md:w-11/12 h-screen mb-8">
            <iframe id="video-player" class="w-full h-full rounded-md shadow-md"
                src="https://www.youtube.com/embed/RG3Hqth0Eus" frameborder="0" allowfullscreen></iframe>
        </div>

        <div class="flex justify-center mb-4">
            <button onclick="loadPreviousEpisode()"
                class="border border-yellow-900 bg-gray-100 p-2 mx-2 rounded-md hover:bg-yellow-600 hover:text-white">
                Previous Episode
            </button>
            <button onclick="loadNextEpisode()"
                class="border border-yellow-900 bg-gray-100 p-2 mx-2 rounded-md hover:bg-yellow-600 hover:text-white">
                Next Episode
            </button>
        </div>

        <!-- Main content start -->
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-1">
            <script>
                const playlistId = "PLFPJRCFRDARSZofcQcV6m7Pu2EAL8_1dv";
                const baseUrl = "https://www.youtube.com/embed/";
                const channelParam = "?list=" + playlistId + "&index=";
                var currentEpisodeIndex = 1; // Initial episode index

                for (let i = 1; i <= 78; i++) {
                    const episodeLink = `${baseUrl}ep-${i}${channelParam}${i}`;
                    document.write(`<div class="mb-1">
                        <a href="#" onclick="playVideo('${episodeLink}', ${i});"
                            class="border border-yellow-900 block bg-gray-100 hover:bg-yellow-500 p-4 rounded-md shadow-sm hover:shadow-2xl transition duration-300 ease-in-out abc">
                            Episode ${i}
                        </a>
                    </div>`);
                }

                function loadVideoByIndex(index) {
                    const episodeLink = `${baseUrl}ep-${index}${channelParam}${index}`;
                    document.getElementById("video-player").src = episodeLink;
                    currentEpisodeIndex = index;
                }

                function loadPreviousEpisode() {
                    if (currentEpisodeIndex > 1) {
                        loadVideoByIndex(currentEpisodeIndex - 1);
                    }
                }

                function loadNextEpisode() {
                    const totalEpisodes = 78; // Set the total number of episodes
                    if (currentEpisodeIndex < totalEpisodes) {
                        loadVideoByIndex(currentEpisodeIndex + 1);
                    }
                }

                function playVideo(videoUrl, episodeIndex) {
                    window.scrollTo({
                        top: videoPlayerOffset,
                        behavior: "smooth"
                    });
                    var videoPlayer = document.getElementById("video-player");
                    videoPlayer.src = videoUrl;
                    currentEpisodeIndex = episodeIndex;
                }
            </script>
        </div>

        <button title="Scroll to Top" id="scrollToTopBtn"
            class="fixed bottom-4 right-4 border bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-full text-center transition duration-300 hidden">
            <i class="fas fa-arrow-up"></i>
        </button>

        <hr class="my-8">
        <footer class="mt-4 text-center">
            <div class="foot">
                <h1 class="text-2xl">Made by <a href="https://naman0807.github.io/myself/" target="_blank"
                        class="underline">Naman</a>
                    with ❤</h1>
            </div>
        </footer>
    </div>

    <script>
        var videoPlayerOffset = document.getElementById("video-player").offsetTop;

        window.onscroll = function () {
            scrollFunction();
        };

        function scrollFunction() {
            var scrollToTopBtn = document.getElementById("scrollToTopBtn");
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                scrollToTopBtn.style.display = "block";
            } else {
                scrollToTopBtn.style.display = "none";
            }
        }

        document.getElementById("scrollToTopBtn").addEventListener("click", function () {
            window.scrollTo({
                top: videoPlayerOffset,
                behavior: "smooth"
            });
        });
    </script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BNC60ZWM1K"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-BNC60ZWM1K');
    </script>
</body>

</html>
